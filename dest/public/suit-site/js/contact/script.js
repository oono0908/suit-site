$(function(){let i=$(".contact__form"),a=i.find('input[type="submit"]');function r(t,n){var e=t.closest(".form__input, .form__textarea, .radio__input");let r=e.find(".form__error");r.length||(r=$('<p class="form__error" role="alert"></p>').appendTo(e)),e.addClass("is-error"),r.text(n).show(),t.attr("aria-invalid","true")}function o(t){t.closest(".form__input, .form__textarea, .radio__input").removeClass("is-error").find(".form__error").hide(),t.removeAttr("aria-invalid")}function e(){let t=!0;var n=i.find('input[name="名前"]'),n=(n.val().trim()?o(n):(r(n,"※お名前を入力してください。"),t=!1),i.find('input[name="メールアドレス"]')),e=n.val().trim(),e=(e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?o(n):(r(n,"※メールアドレスの形式が正しくありません。"),t=!1):(r(n,"※メールアドレスを入力してください。"),t=!1),i.find('input[name="お問い合わせの種類"]')),n=(e.filter(":checked").length?o(e.eq(0)):(r(e.eq(0),"※お問い合わせの種類を選択してください。"),t=!1),i.find('textarea[name="お問い合わせ内容"]')),e=n.val().trim();return e?e.length<10?(r(n,"※10文字以上で入力してください。"),t=!1):o(n):(r(n,"※お問い合わせ内容を入力してください。"),t=!1),t}function l(){r=i.find('input[name="名前"]').val().trim(),t=i.find('input[name="メールアドレス"]').val().trim(),n=i.find('input[name="お問い合わせの種類"]'),e=i.find('textarea[name="お問い合わせ内容"]').val().trim();var t,n,e,r=!!(r&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&n.filter(":checked").length&&5<=e.length);a.prop("disabled",!r).attr("aria-disabled",!r)}e(),i.on("input blur",'input[name="名前"], input[name="メールアドレス"], textarea[name="お問い合わせ内容"]',function(){e()}),i.on("change",'input[name="お問い合わせの種類"]',function(){e()}),l(),i.on("input change","input, textarea",l),i.on("submit",function(t){var n;e()?a.prop("disabled",!0).val("送信中…"):(t.preventDefault(),l(),n=(t=i.find(".is-error").first()).find("input, textarea").first(),t.length&&t[0].scrollIntoView({behavior:"smooth",block:"center"}),n.length&&n.trigger("focus"))})});